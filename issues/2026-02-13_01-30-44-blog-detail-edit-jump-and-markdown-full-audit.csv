id,priority,phase,area,title,description,acceptance_criteria,test_mcp,review_initial_requirements,review_regression_requirements,dev_state,review_initial_state,review_regression_state,git_state,owner,refs,notes
BDA-000,P1,1,frontend,盘点详情页与 Markdown 能力缺口,建立博客详情页入口、代码块交互与 Markdown 语法支持矩阵，输出已支持/部分支持/缺失边界，作为后续开发唯一基线。,形成一份可复用矩阵文档并覆盖 GFM、表格、任务列表、Mermaid、数学公式、HTML、图片、链接、锚点、脚注 10 类能力；每类至少标注 1 个当前证据位置与结论；评审确认无未归类项。,AUTOFRONTEND,Review 需确认能力边界只描述现状不提前混入实现方案；矩阵中的部分支持必须附触发条件与失败表现。,回归时按矩阵逐项抽查至少 1 条样例并记录结果；若新增语法项需同步补矩阵与 refs。,未开始,未开始,未开始,未提交,,plan/2026-02-13_01-02-31-blog-detail-edit-jump-and-markdown-full-audit.md:16;apps/blog/app/posts/(article)/[slug]/page.tsx:118;apps/blog/app/components/MarkdownRenderer.tsx:525;apps/blog/app/globals.css:382,
BDA-010,P0,2,frontend,新增详情页编辑此文直达入口,在文章详情头部元信息区新增编辑此文动作，基于当前文章 id 跳转后台 posts/:id/edit，并保留现有后台入口。,当文章存在 id 时可一键打开后台编辑页且 URL 命中 /posts/:id/edit；不影响现有后台首页入口；PC 与移动端均可触发且无布局错位。,AUTOE2E,Review 检查入口位置与信息层级，不遮挡标题与标签；参数拼接使用明确 id 来源，禁止从 slug 反推。,联调验证已登录与未登录后台两种链路；随机抽 3 篇文章确认跳转目标与文章 id 一致。,已完成,已完成,已完成,已提交,,plan/2026-02-13_01-02-31-blog-detail-edit-jump-and-markdown-full-audit.md:17;apps/blog/app/posts/(article)/[slug]/page.tsx:96;apps/blog/app/posts/(article)/[slug]/page.tsx:64;apps/admin/src/App.tsx:77;apps/blog/app/posts/(article)/[slug]/page.tsx:1;apps/blog/app/posts/(article)/[slug]/page.tsx:60,picked_reason:优先交付用户可见价值最高的详情页编辑直达链路;review_initial:入口位于文章元信息区且基于 post.id 直达 /posts/:id/edit，未使用 slug 反推;validation_limited:未执行真实浏览器联调，仅通过构建与代码路径验证登录/未登录链路;manual_test:打开任意 3 篇详情页点击“编辑此文”，确认 URL 命中 /posts/<id>/edit 且与文章 id 一致；分别在已登录与未登录后台态验证跳转结果;evidence:pnpm --filter @aetherblog/blog lint 与 build 成功，/posts/[slug] 页面编译通过;risk:low 入口依赖 NEXT_PUBLIC_ADMIN_URL，若未配置将显示“编辑入口未配置”文案;done_at:2026-02-12
BDA-020,P0,3,both,收敛编辑跳转配置与安全边界,引入显式后台地址配置并统一新窗口策略，未配置或非法配置时提供可感知降级，避免跨域误跳转。,NEXT_PUBLIC_ADMIN_URL 已配置时使用该地址并附带 noopener noreferrer；未配置时入口隐藏或提示文案一致；禁止生成 javascript: 等非 http(s) 链接。,AUTOE2E,Review 校验 URL 规范化、尾斜杠处理、/admin/ 基路径兼容；异常路径必须有日志或可观测提示。,回归覆盖本地开发、生产子路径与独立域名三种部署；验证新窗口打开后 window.opener 不可用。,已完成,已完成,已完成,已提交,,plan/2026-02-13_01-02-31-blog-detail-edit-jump-and-markdown-full-audit.md:18;apps/blog/app/components/BlogHeader.tsx:346;apps/admin/src/App.tsx:51;apps/admin/src/App.tsx:77;apps/blog/app/lib/adminUrl.ts:1;apps/blog/app/components/BlogHeader.tsx:10;apps/blog/app/components/MobileMenu.tsx:14;env.example:32,picked_reason:优先收敛后台跳转配置与安全边界，减少后续入口改造返工;review_initial:已核对 URL 规范化、尾斜杠与 /admin/ 基路径兼容，异常场景有可观测提示;validation_limited:未执行真实浏览器 E2E（本地无 Playwright 链路），生产子路径与独立域名仅做代码级验证;manual_test:配置 NEXT_PUBLIC_ADMIN_URL 为 /admin/、http://localhost:5173、https://admin.example.com/base 后分别点击桌面/移动入口；配置为空或 javascript:alert(1) 时验证入口禁用并提示；新窗口执行 window.opener === null;evidence:pnpm --filter @aetherblog/blog lint 与 build 均成功；构建日志中的 fetch EPERM 为现有 API 不可达噪声，不影响编译产物;risk:low 未配置时入口改为禁用态，若依赖旧默认 /admin/ 需显式配置 NEXT_PUBLIC_ADMIN_URL;done_at:2026-02-12
BDA-030,P0,4,frontend,统一代码块复制交互与失败兜底,复用 MarkdownRenderer 代码块渲染链路，确保复制按钮在桌面与移动端可见可点，并提供成功与失败反馈。,代码块默认展示复制按钮；复制成功在 1 秒内给出可见反馈；权限拒绝或非安全上下文时展示失败提示且页面不报错；抽测 3 种语言代码块行为一致。,AUTOFRONTEND,Review 关注按钮可点击区域、触屏命中、键盘可达性；复制逻辑禁止阻塞高亮渲染。,回归覆盖 Chrome 与 Safari 的移动端和桌面端；在禁用 clipboard 场景验证降级提示可见。,未开始,未开始,未开始,未提交,,plan/2026-02-13_01-02-31-blog-detail-edit-jump-and-markdown-full-audit.md:19;apps/blog/app/components/MarkdownRenderer.tsx:372;apps/blog/app/components/MarkdownRenderer.tsx:525;apps/blog/app/globals.css:382,
BDA-040,P1,5,frontend,补齐 Markdown 组件映射与一致性表现,按语法矩阵补齐 heading 锚点、脚注、任务列表可访问性、表格响应式、图片说明尺寸、链接策略以及 Mermaid 与 KaTeX 错误态一致性。,关键语法项在详情页均可渲染且无控制台错误；heading 可生成稳定锚点；外链默认新窗口并带安全属性；Mermaid 与 KaTeX 失败时展示统一错误态文案。,AUTOFRONTEND,Review 检查组件映射与 CSS 归属，避免在多个文件重复实现；可访问性属性需要可追踪。,回归覆盖亮暗主题与窄屏表格横向滚动；抽查脚注跳转与返回链路可用。,未开始,未开始,未开始,未提交,,plan/2026-02-13_01-02-31-blog-detail-edit-jump-and-markdown-full-audit.md:20;apps/blog/app/components/MarkdownRenderer.tsx:372;apps/blog/app/components/MarkdownRenderer.tsx:525;apps/blog/app/globals.css:382,
BDA-050,P1,6,frontend,建立 Markdown 覆盖样例与验收页,新增或整理集中样例文档，覆盖常见与边界 Markdown 输入，作为详情页渲染回归基准。,样例至少覆盖计划矩阵中的全部能力项并可在详情页一次性验证；每项包含最小输入片段与预期表现；文档位置在仓库内可被 refs 直接定位。,AUTOFRONTEND,Review 确认样例最小化且可重复，不混入业务私有内容；新增样例需注明对应能力项编号。,每次改动 Markdown 渲染后都需跑完整样例并记录异常；异常项必须回链到对应 issue id。,未开始,未开始,未开始,未提交,,plan/2026-02-13_01-02-31-blog-detail-edit-jump-and-markdown-full-audit.md:21;apps/blog/app/posts/(article)/[slug]/page.tsx:118;apps/blog/app/components/MarkdownRenderer.tsx:525,
BDA-060,P0,7,both,执行发布前验证与风险输出,在实现完成后执行 lint、type-check、build 与手工回归，覆盖 PC 与移动、主题、复制成功率与后台跳转链路，并沉淀风险清单。,pnpm --filter blog lint、类型检查与构建全部通过；手工回归清单全部有结论；输出至少包含已知风险、影响范围与后续优化建议。,AUTOE2E,Review 先确认自动化命令与人工清单一致，避免只跑命令不看交互链路。,回归至少覆盖 PC 与 1 种移动设备、亮暗主题、登录与未登录后台场景；复测结果需可追溯到 refs。,未开始,未开始,未开始,未提交,,plan/2026-02-13_01-02-31-blog-detail-edit-jump-and-markdown-full-audit.md:22;apps/blog/app/posts/(article)/[slug]/page.tsx:64;apps/blog/app/posts/(article)/[slug]/page.tsx:118;apps/admin/src/App.tsx:77,
