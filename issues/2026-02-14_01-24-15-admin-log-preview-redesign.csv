"id","priority","phase","area","title","description","acceptance_criteria","test_mcp","review_initial_requirements","review_regression_requirements","dev_state","review_initial_state","review_regression_state","git_state","owner","refs","notes"
"ALPR-000","P0","1","both","建立日志预览基线与统一验收矩阵","梳理 Dashboard 与 Monitor 两处日志入口的功能现状与问题清单，统一显示、筛选、下载、全屏、刷新和异常态验收口径。","形成覆盖6类能力的问题清单与验收矩阵；两入口均有可复测路径；每项包含预期结果与失败判定。","AUTOE2E","Review需确认两入口功能差异已显式记录，且验收口径可量化，不接受“体验更好”类主观描述。","回归按矩阵逐项复测并留存结果；新增需求必须先补矩阵再开发。","已完成","已完成","已完成","已提交","","plan/2026-02-14_01-21-08-admin-log-preview-redesign.md:16;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:17;apps/admin/src/pages/MonitorPage.tsx:38;apps/admin/src/pages/dashboard/DashboardPage.tsx:673;docs/qa/admin-log-preview-acceptance-matrix.md:1","picked_reason:P0首条基线任务，可统一后续实现与回归口径并减少返工 | evidence:新增6类能力问题清单与统一验收矩阵，含8步可复测路径 | validation_limited:该条为基线文档任务，AUTOE2E在本地未实际执行 | manual_test:按docs/qa/admin-log-preview-acceptance-matrix.md第4节在Dashboard与Monitor逐项走查 | risk:low 仅文档与状态元数据更新 | done_at:2026-02-14T01:28:41+0800"
"ALPR-010","P0","2","frontend","统一日志视图状态机与状态语义","抽离并统一 idle/loading/healthy/no_data/error/paused/fullscreen 状态模型，消除状态散落导致的 UI 与行为错位。","状态枚举完整落地并可追踪；同一状态在两入口展示语义一致；非法状态转移被阻断并可诊断。","AUTOFRONTEND","Review需校验状态转移图与触发条件，确保 paused/loading/error 不冲突，避免“暂停中仍请求”。","回归覆盖全部状态分支与互斥场景，验证状态文案、标识和行为一致。","已完成","已完成","已完成","已提交","","plan/2026-02-14_01-21-08-admin-log-preview-redesign.md:17;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:15;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:33;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:153;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:47;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:166;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:297","picked_reason:P0且为后续布局/刷新/全屏能力的状态基础，先统一状态语义可降低串扰风险 | evidence:引入统一LogViewState+reducer，阻断paused状态下FETCH_START并输出blocked trace日志 | evidence:状态文案统一由LogLifecycleState映射，Dashboard/Monitor共享同一组件语义一致 | evidence:执行 pnpm --filter @aetherblog/admin lint（通过，存在仓库历史warning） | evidence:执行 pnpm --filter @aetherblog/admin build（通过） | done_at:2026-02-14T01:33:27+0800"
"ALPR-020","P1","3","frontend","重构日志面板信息架构与响应式布局","按状态区、筛选区、操作区、内容区分层重排控件，优化窄屏与大屏断点表现，确保操作可达性与信息优先级。","在移动端、平板、桌面三档宽度下控件无重叠裁切；核心操作均一屏可达；布局结构在两入口一致。","AUTOFRONTEND","Review需校验信息层级与控件优先级，禁止再次出现关键按钮折叠不可见。","回归覆盖断点切换、窗口缩放与全屏前后布局恢复，确认无抖动和错位。","已完成","已完成","已完成","已提交","","plan/2026-02-14_01-21-08-admin-log-preview-redesign.md:18;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:171;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:183;apps/admin/src/pages/dashboard/DashboardPage.tsx:671;apps/admin/src/pages/MonitorPage.tsx:36;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:490;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:506;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:538","picked_reason:与当前组件上下文强相关，先重排信息架构可为后续筛选与导出控件留位 | evidence:日志面板重排为状态区+控制区两层结构，控制区再分筛选组与操作组 | evidence:控制区使用flex-wrap与xl断点分栏，避免窄屏按钮重叠并保证核心操作常驻可达 | evidence:头部改sticky布局，缩放/全屏切换时信息层级保持一致 | evidence:执行 pnpm --filter @aetherblog/admin build（通过） | validation_limited:未在真实设备完成移动端/平板视觉回归，仅完成构建级校验 | manual_test:分别在375px/768px/1280px宽度检查控件无重叠裁切且主要按钮可见 | risk:medium 断点表现依赖真实浏览器布局，需补充真机验收 | done_at:2026-02-14T01:48:54+0800"
"ALPR-030","P0","4","both","强化自动刷新调度与退避恢复策略","实现手动暂停、页面隐藏自动暂停、错误退避重试与恢复后增量刷新，并提供可观察状态与最近成功时间。","暂停后不再产生轮询请求；页面隐藏自动暂停并在恢复后可继续拉取；错误场景触发退避且恢复后可自动回到健康态。","AUTOE2E","Review需核对定时器生命周期与可见性监听，确保无请求风暴与重复定时器。","回归模拟网络抖动与页面切后台，验证退避间隔、恢复增量和最后成功时间更新正确。","已完成","已完成","已完成","已提交","","plan/2026-02-14_01-21-08-admin-log-preview-redesign.md:19;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:56;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:77;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:185;apps/admin/src/services/systemService.ts:247;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:203;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:220;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:230;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:275;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:361;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:448","picked_reason:P0且与线上“暂停中仍请求/异常后频繁轮询”风险直接相关，优先收敛调度器 | evidence:新增手动暂停+页面隐藏自动暂停融合逻辑，并标注pauseReason用于可观察状态 | evidence:轮询由固定setInterval改为setTimeout调度，错误时按指数退避(上限60s) | evidence:恢复阶段启用mergeLogsIncrementally增量拼接，避免恢复后日志跳变 | evidence:执行 pnpm --filter @aetherblog/admin build（通过） | evidence:执行 pnpm --filter @aetherblog/admin lint（通过，存在仓库既有warning） | done_at:2026-02-14T01:37:46+0800"
"ALPR-040","P0","5","frontend","修复日志全屏沉浸模式与可访问性","将全屏升级为可访问沉浸查看模式，补齐 Esc 退出、遮罩焦点管理、背景滚动锁定与固定工具栏。","全屏支持 Esc 退出且焦点不丢失；背景页面不可滚动；遮罩层级正确无穿透；退出后状态可恢复。","AUTOFRONTEND","Review需验证键盘事件、焦点圈与滚动锁定实现，避免快捷键冲突与可访问性退化。","回归覆盖鼠标点击遮罩退出、Esc 退出、窗口大小变化与多次进入退出循环。","已完成","已完成","已完成","已提交","","plan/2026-02-14_01-21-08-admin-log-preview-redesign.md:20;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:312;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:315;apps/admin/src/pages/posts/CreatePostPage.tsx:524;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:211;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:255;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:490;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:576;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:638","picked_reason:P0且与可访问性直接相关，基于同组件上下文连续处理可减少回归 | evidence:全屏模式新增Esc退出监听、焦点保存/恢复、dialog语义与tabIndex聚焦 | evidence:进入全屏时锁定body滚动，退出时恢复原overflow并回焦到触发按钮 | evidence:头部工具栏改为sticky，保证全屏长日志滚动时操作区始终可达 | validation_limited:当前环境无法执行真实浏览器交互回放，仅完成构建级验证 | manual_test:进入全屏后按Esc退出、点击遮罩退出、连续进入退出3次并检查焦点回到全屏按钮 | risk:medium 焦点与键盘交互依赖浏览器行为，需在真实页面二次确认 | evidence:执行 pnpm --filter @aetherblog/admin build（通过） | done_at:2026-02-14T01:39:29+0800"
"ALPR-050","P1","6","frontend","补齐筛选与高密度日志阅读能力","新增关键字过滤、级别多选或快速切换、换行与紧凑模式切换及时间/序号辅助信息，提升长日志阅读效率。","2000 行日志下关键字过滤响应可用；级别切换与阅读模式切换不丢失滚动上下文；辅助信息可按需开启。","AUTOFRONTEND","Review需确认新增筛选不引入明显渲染卡顿，且默认设置对现有用户行为兼容。","回归覆盖过滤命中/未命中、快速切换级别、自动滚动开关与超长行展示。","已完成","已完成","已完成","已提交","","plan/2026-02-14_01-21-08-admin-log-preview-redesign.md:21;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:203;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:292;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:305;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:439;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:447;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:506;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:538;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:669","picked_reason:复用当前组件上下文补齐阅读与筛选能力，避免多次重排控件 | evidence:新增关键字本地过滤、级别快捷切换、换行/紧凑/行信息模式切换 | evidence:新增 preserveScrollContext，模式切换与过滤输入时尽量保持滚动上下文 | evidence:日志渲染切换为 visibleLogs，未命中关键字时显示明确提示 | validation_limited:未在真实2000行生产日志场景做交互性能压测，仅完成构建验证 | manual_test:加载2000行日志后连续切换关键词/级别/阅读模式，确认滚动位置与渲染流畅 | risk:medium 性能结论依赖真实数据分布和浏览器设备性能，建议上线前压测 | evidence:执行 pnpm --filter @aetherblog/admin build（通过） | done_at:2026-02-14T01:52:29+0800"
"ALPR-060","P1","7","both","扩展日志下载与导出能力矩阵","支持按当前筛选下载、按级别原始文件下载和最近 N 行导出，补齐文件命名、失败反馈与禁用态。","三类下载/导出路径均可用；失败场景有明确错误反馈；禁用态在无数据或请求中正确生效。","AUTOE2E","Review需确认下载参数与前端筛选一致，防止导出内容与当前视图不一致。","回归覆盖权限不足、文件不存在与网络中断等失败路径，并验证文件命名规则稳定。","未开始","未开始","未开始","未提交","","plan/2026-02-14_01-21-08-admin-log-preview-redesign.md:22;apps/admin/src/services/systemService.ts:283;apps/server/aetherblog-service/blog-service/src/main/java/com/aetherblog/blog/controller/SystemMonitorController.java:133;apps/server/aetherblog-service/blog-service/src/main/java/com/aetherblog/blog/service/LogViewerService.java:127",""
"ALPR-070","P0","8","both","对齐日志查询接口契约与错误分类","在兼容现有 level+lines 参数的前提下扩展 keyword、limit、cursor 等能力，并统一 no_data 与 error 的返回语义。","旧参数调用保持兼容；新参数可按契约生效；前后端对 no_data 与 error 的处理一致且具备 errorCategory。","AUTOE2E","Review需核对请求参数默认值、边界值与返回结构，避免 breaking change。","回归覆盖兼容路径与扩展路径，包括空日志文件、读取异常、分页游标边界。","已完成","已完成","已完成","已提交","","plan/2026-02-14_01-21-08-admin-log-preview-redesign.md:23;apps/admin/src/services/systemService.ts:247;apps/server/aetherblog-service/blog-service/src/main/java/com/aetherblog/blog/controller/SystemMonitorController.java:105;apps/server/aetherblog-service/blog-service/src/main/java/com/aetherblog/blog/service/LogViewerService.java:96;apps/server/aetherblog-service/blog-service/src/main/java/com/aetherblog/blog/controller/SystemMonitorController.java:106;apps/server/aetherblog-service/blog-service/src/main/java/com/aetherblog/blog/service/LogViewerService.java:61;apps/server/aetherblog-service/blog-service/src/main/java/com/aetherblog/blog/service/LogViewerService.java:118;apps/admin/src/services/systemService.ts:138;apps/admin/src/services/systemService.ts:261;apps/server/aetherblog-service/blog-service/src/test/java/com/aetherblog/blog/service/LogViewerServiceTest.java:63","picked_reason:P0契约问题会阻塞筛选与导出扩展，先完成兼容层避免前后端重复返工 | evidence:/v1/admin/system/logs 在兼容 level+lines 下扩展 keyword/limit/cursor，并保留旧返回数组路径 | evidence:新增 LogReadResult.cursor/nextCursor 与 LOG_FILTER_NO_MATCH、LOG_CURSOR_EXHAUSTED 分类 | evidence:前端 systemService.getLogs 兼容解析数组与扩展对象返回，统一 no_data/error 语义 | evidence:新增 LogViewerServiceTest 扩展用例覆盖 keyword+cursor 分页与游标越界 | evidence:执行 mvn -pl aetherblog-service/blog-service -am -Dtest=LogViewerServiceTest -Dsurefire.failIfNoSpecifiedTests=false test（通过） | evidence:执行 pnpm --filter @aetherblog/admin build（通过） | done_at:2026-02-14T01:45:37+0800"
"ALPR-080","P0","9","both","建立测试回归与灰度发布回退闭环","覆盖组件交互、状态机分支、服务契约与性能基线，并通过灰度开关发布与一键回退确保上线安全。","完成组件、契约与性能回归用例；核心路径在2000行日志下无明显卡顿；灰度开关与回退流程演练通过。","AUTOE2E","Review需确认测试矩阵覆盖 Dashboard 与 Monitor 双入口及异常路径，不得只测 happy path。","发布前执行全量回归，发布后按基线复核并记录结果；出现阻断问题可在约定时间内回退。","未开始","未开始","未开始","未提交","","plan/2026-02-14_01-21-08-admin-log-preview-redesign.md:24;plan/2026-02-14_01-21-08-admin-log-preview-redesign.md:31;apps/admin/src/pages/dashboard/components/RealtimeLogViewer.tsx:280;apps/admin/src/pages/dashboard/DashboardPage.tsx:673;apps/admin/src/pages/MonitorPage.tsx:38",""
