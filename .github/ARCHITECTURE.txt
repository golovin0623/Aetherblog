```
GitHub Actions 构建架构图
═══════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────┐
│                     开发者本地环境                           │
│                                                              │
│  ┌──────────────┐                                           │
│  │  git push    │  推送代码到 GitHub                        │
│  │  git tag     │  或创建版本标签                           │
│  └──────┬───────┘                                           │
└─────────┼───────────────────────────────────────────────────┘
          │
          ▼
┌─────────────────────────────────────────────────────────────┐
│                      GitHub 平台                             │
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │  GitHub Repository (代码仓库)                          │ │
│  │  - 检测到推送事件                                       │ │
│  │  - 触发 GitHub Actions 工作流                          │ │
│  └────────────────────────────────────────────────────────┘ │
│                          │                                   │
│                          ▼                                   │
│  ┌────────────────────────────────────────────────────────┐ │
│  │  GitHub Actions (工作流引擎)                           │ │
│  │  - 读取 .github/workflows/*.yml                        │ │
│  │  - 分配虚拟机资源                                       │ │
│  └────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
          │
          ▼
┌─────────────────────────────────────────────────────────────┐
│              GitHub-hosted Runner (虚拟机)                   │
│              ⚡ 由 GitHub 提供,完全免费                      │
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │  虚拟机规格:                                            │ │
│  │  - OS: Ubuntu 22.04                                    │ │
│  │  - CPU: 2 核心                                         │ │
│  │  - RAM: 7 GB                                           │ │
│  │  - 存储: 14 GB SSD                                     │ │
│  │  - 网络: 高速网络                                       │ │
│  └────────────────────────────────────────────────────────┘ │
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │  预装工具:                                              │ │
│  │  ✅ Docker & Docker Compose                            │ │
│  │  ✅ Git                                                │ │
│  │  ✅ Node.js (多版本)                                   │ │
│  │  ✅ Java (多版本)                                      │ │
│  │  ✅ Python, Go, Rust...                               │ │
│  └────────────────────────────────────────────────────────┘ │
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │  构建步骤 (并行执行):                                   │ │
│  │                                                         │ │
│  │  Job 1: Backend   Job 2: Blog   Job 3: Admin          │ │
│  │  ┌──────────┐    ┌──────────┐   ┌──────────┐         │ │
│  │  │ Checkout │    │ Checkout │   │ Checkout │         │ │
│  │  │   代码   │    │   代码   │   │   代码   │         │ │
│  │  └────┬─────┘    └────┬─────┘   └────┬─────┘         │ │
│  │       │               │              │                │ │
│  │       ▼               ▼              ▼                │ │
│  │  ┌──────────┐    ┌──────────┐   ┌──────────┐         │ │
│  │  │  Setup   │    │  Setup   │   │  Setup   │         │ │
│  │  │  Buildx  │    │  Buildx  │   │  Buildx  │         │ │
│  │  └────┬─────┘    └────┬─────┘   └────┬─────┘         │ │
│  │       │               │              │                │ │
│  │       ▼               ▼              ▼                │ │
│  │  ┌──────────┐    ┌──────────┐   ┌──────────┐         │ │
│  │  │  Login   │    │  Login   │   │  Login   │         │ │
│  │  │Docker Hub│    │Docker Hub│   │Docker Hub│         │ │
│  │  └────┬─────┘    └────┬─────┘   └────┬─────┘         │ │
│  │       │               │              │                │ │
│  │       ▼               ▼              ▼                │ │
│  │  ┌──────────┐    ┌──────────┐   ┌──────────┐         │ │
│  │  │  Build   │    │  Build   │   │  Build   │         │ │
│  │  │  Image   │    │  Image   │   │  Image   │         │ │
│  │  └────┬─────┘    └────┬─────┘   └────┬─────┘         │ │
│  │       │               │              │                │ │
│  │       ▼               ▼              ▼                │ │
│  │  ┌──────────┐    ┌──────────┐   ┌──────────┐         │ │
│  │  │   Push   │    │   Push   │   │   Push   │         │ │
│  │  │  to Hub  │    │  to Hub  │   │  to Hub  │         │ │
│  │  └────┬─────┘    └────┬─────┘   └────┬─────┘         │ │
│  │       │               │              │                │ │
│  └───────┼───────────────┼──────────────┼────────────────┘ │
│          │               │              │                  │
└──────────┼───────────────┼──────────────┼──────────────────┘
           │               │              │
           └───────┬───────┴──────────────┘
                   │
                   ▼
┌─────────────────────────────────────────────────────────────┐
│                      Docker Hub                              │
│                    (镜像仓库)                                │
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │  镜像存储:                                              │ │
│  │  📦 golovin0623/aetherblog-backend:latest              │ │
│  │  📦 golovin0623/aetherblog-backend:v1.0.0              │ │
│  │  📦 golovin0623/aetherblog-blog:latest                 │ │
│  │  📦 golovin0623/aetherblog-blog:v1.0.0                 │ │
│  │  📦 golovin0623/aetherblog-admin:latest                │ │
│  │  📦 golovin0623/aetherblog-admin:v1.0.0                │ │
│  └────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
                   │
                   │ docker pull
                   ▼
┌─────────────────────────────────────────────────────────────┐
│                    生产服务器                                │
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │  $ docker-compose pull                                 │ │
│  │  $ docker-compose up -d                                │ │
│  │                                                         │ │
│  │  🚀 应用运行中...                                       │ │
│  └────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘


时间线示例:
═══════════════════════════════════════════════════════════════

00:00  开发者推送代码到 main 分支
00:01  GitHub 检测到推送,触发工作流
00:02  分配 3 个虚拟机 (并行构建)
00:03  虚拟机启动,安装依赖
00:05  开始构建 Docker 镜像
00:08  构建完成,开始推送镜像
00:10  镜像推送完成
00:11  虚拟机销毁,构建结束

总耗时: ~10 分钟 (首次构建)
        ~5 分钟 (有缓存时)


费用说明:
═══════════════════════════════════════════════════════════════

公开仓库 (AetherBlog):
  ✅ 完全免费
  ✅ 无限构建时间
  ✅ 无限并发任务
  ✅ GitHub 承担所有成本

私有仓库:
  🆓 免费配额: 2,000 分钟/月
  💵 超出费用: $0.008/分钟 (Linux)


优势:
═══════════════════════════════════════════════════════════════

✅ 零成本 - GitHub 提供免费虚拟机
✅ 零维护 - 无需管理服务器
✅ 高性能 - 2核7GB,足够构建
✅ 高速网络 - 推送镜像快
✅ 并行构建 - 3个服务同时构建
✅ 干净环境 - 每次都是全新虚拟机
✅ 安全隔离 - 构建环境完全隔离
```
