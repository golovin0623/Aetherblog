# =============================================================================
# AetherBlog Production Environment Configuration
# =============================================================================
# 复制此文件为 .env 并配置

# -----------------------------------------------------------------------------
# 端口配置 (避免与现有服务冲突)
# -----------------------------------------------------------------------------
# 统一入口网关 - 只需用域名代理此端口即可
GATEWAY_PORT=7899

# 以下端口可选，用于直接访问或调试
BLOG_PORT=7893
ADMIN_PORT=7894
POSTGRES_PORT=7895
# REDIS_PORT=7896

# -----------------------------------------------------------------------------
# PostgreSQL
# -----------------------------------------------------------------------------
POSTGRES_PASSWORD=aetherblog123

# -----------------------------------------------------------------------------
# Redis (使用现有 Redis 服务)
# -----------------------------------------------------------------------------
REDIS_HOST=host.docker.internal
REDIS_PORT=6999

# -----------------------------------------------------------------------------
# OpenAI (AI 功能)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_BASE_URL=https://api.openai.com
OPENAI_COMPAT_BASE_URL=
OPENAI_COMPAT_API_KEY=

# -----------------------------------------------------------------------------
# AI Service (独立 AI 服务)
# -----------------------------------------------------------------------------
AI_SERVICE_URL=http://ai-service:8000
AI_JWT_MODE=HMAC
AI_JWT_SECRET=change-me
AI_JWT_JWKS_URL=
AI_JWT_ISSUER=
AI_JWT_AUDIENCE=
AI_MOCK_MODE=false
AI_REDIS_URL=
AI_MAX_INPUT_CHARS=20000

# -----------------------------------------------------------------------------
# Flyway 数据库迁移
# -----------------------------------------------------------------------------
# 开发模式 (默认): 关闭校验，可自由修改迁移脚本
# 生产模式: 设为 true 启用严格校验
FLYWAY_VALIDATE=false

# 生产模式: 设为 true 禁止 flyway clean 操作
FLYWAY_CLEAN_DISABLED=false
